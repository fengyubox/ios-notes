## 代码混淆

### 基本概念

+ 什么是加固
  - 加固是为了增加应用的安全性，防止应用被破解、盗版、二次打包、注入、反编译等
+ 常见的加固方式有
  - 数据加密（字符串、网络数据、敏感数据等）
  - 应用加壳（二进制加密）
  - 代码混淆（类名、方法名、代码逻辑等）
  - ......（不同平台还有不同的做法）

### 代码混淆

+ iOS程序可以通过class-dump、Hopper、IDA等获取类名、方法名、以及分析程序的执行逻辑
  - 如果进行代码混淆，可以加大别人的分析难度
+ iOS的代码混淆方案
  - 源码的混淆
    - 类名
    - 方法名
    - 协议名
    - ....
+ LLVM中间代码IR的混淆（容易产生BUG）
  - 自己编写Pass
  - ollvm：https://github.com/obfuscator-llvm/obfuscator

### 源码的混淆 - 通过宏定义混淆方法名、类名

![](./images/代码混淆0.png)

- 此时通用class-dump，hopper查看，只能看到混淆的方法名

-p

